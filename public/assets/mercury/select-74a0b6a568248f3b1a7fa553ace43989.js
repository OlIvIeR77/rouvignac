(function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};this.Mercury.Select=function(t){function n(t,e,i){this.url=t,this.name=e,this.options=null!=i?i:{},n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.build=function(){var t;return this.element=jQuery("<div>",{"class":"mercury-select mercury-"+this.name+"-select loading",style:"display:none"}),this.element.appendTo(null!=(t=jQuery(this.options.appendTo).get(0))?t:"body")},n.prototype.bindEvents=function(){return Mercury.on("hide:dialogs",function(t){return function(e,n){return n!==t?t.hide():void 0}}(this)),this.element.on("mousedown",function(){return function(t){return t.preventDefault()}}(this)),n.__super__.bindEvents.apply(this,arguments)},n.prototype.position=function(t){var e,n,i,o,r,s,u;return this.element.css({top:0,left:0,display:"block",visibility:"hidden"}),s=this.button.position(),i=this.element.width(),n=this.element.height(),e=jQuery(document).height(),u=s.top+this.button.height()/2-n/2,u<s.top-100&&(u=s.top-100),20>u&&(u=20),o=this.loaded?"auto":n,u+n>=e-20&&(o=e-u-20),r=s.left,r+i>jQuery(window).width()&&(r=r-i+this.button.width()),this.element.css({top:u,left:r,height:o,display:t?"block":"none",visibility:"visible"})},n}(Mercury.Dialog)}).call(this);